{"name":"ServerChunkCache","package":"net.minecraft.server.level","fqn":"net.minecraft.server.level.ServerChunkCache","type":"class","members":["private static final org.slf4j.Logger LOGGER;","private final net.minecraft.server.level.DistanceManager distanceManager;","private final net.minecraft.server.level.ServerLevel level;","private final java.lang.Thread mainThread;","private final net.minecraft.server.level.ThreadedLevelLightEngine lightEngine;","private final net.minecraft.server.level.ServerChunkCache$MainThreadExecutor mainThreadProcessor;","public final net.minecraft.server.level.ChunkMap chunkMap;","private final net.minecraft.world.level.storage.DimensionDataStorage dataStorage;","private final net.minecraft.world.level.TicketStorage ticketStorage;","private long lastInhabitedUpdate;","private boolean spawnEnemies;","private static final int CACHE_SIZE;","private final long[] lastChunkPos;","private final net.minecraft.world.level.chunk.status.ChunkStatus[] lastChunkStatus;","private final net.minecraft.world.level.chunk.ChunkAccess[] lastChunk;","private final java.util.List<net.minecraft.world.level.chunk.LevelChunk> spawningChunks;","private final java.util.Set<net.minecraft.server.level.ChunkHolder> chunkHoldersToBroadcast;","private net.minecraft.world.level.NaturalSpawner$SpawnState lastSpawnState;","public net.minecraft.server.level.ServerChunkCache(net.minecraft.server.level.ServerLevel, net.minecraft.world.level.storage.LevelStorageSource$LevelStorageAccess, com.mojang.datafixers.DataFixer, net.minecraft.world.level.levelgen.structure.templatesystem.StructureTemplateManager, java.util.concurrent.Executor, net.minecraft.world.level.chunk.ChunkGenerator, int, int, boolean, net.minecraft.world.level.entity.ChunkStatusUpdateListener, java.util.function.Supplier<net.minecraft.world.level.storage.DimensionDataStorage>);","public net.minecraft.server.level.ThreadedLevelLightEngine getLightEngine();","private net.minecraft.server.level.ChunkHolder getVisibleChunkIfPresent(long);","private void storeInCache(long, net.minecraft.world.level.chunk.ChunkAccess, net.minecraft.world.level.chunk.status.ChunkStatus);","public net.minecraft.world.level.chunk.ChunkAccess getChunk(int, int, net.minecraft.world.level.chunk.status.ChunkStatus, boolean);","public net.minecraft.world.level.chunk.LevelChunk getChunkNow(int, int);","private void clearCache();","public java.util.concurrent.CompletableFuture<net.minecraft.server.level.ChunkResult<net.minecraft.world.level.chunk.ChunkAccess>> getChunkFuture(int, int, net.minecraft.world.level.chunk.status.ChunkStatus, boolean);","private java.util.concurrent.CompletableFuture<net.minecraft.server.level.ChunkResult<net.minecraft.world.level.chunk.ChunkAccess>> getChunkFutureMainThread(int, int, net.minecraft.world.level.chunk.status.ChunkStatus, boolean);","private boolean chunkAbsent(net.minecraft.server.level.ChunkHolder, int);","public boolean hasChunk(int, int);","public net.minecraft.world.level.chunk.LightChunk getChunkForLighting(int, int);","public net.minecraft.world.level.Level getLevel();","public boolean pollTask();","boolean runDistanceManagerUpdates();","public boolean isPositionTicking(long);","public void save(boolean);","public void close() throws java.io.IOException;","public void tick(java.util.function.BooleanSupplier, boolean);","private void tickChunks();","private void broadcastChangedChunks(net.minecraft.util.profiling.ProfilerFiller);","private void tickChunks(net.minecraft.util.profiling.ProfilerFiller, long);","private void tickSpawningChunk(net.minecraft.world.level.chunk.LevelChunk, long, java.util.List<net.minecraft.world.entity.MobCategory>, net.minecraft.world.level.NaturalSpawner$SpawnState);","private void getFullChunk(long, java.util.function.Consumer<net.minecraft.world.level.chunk.LevelChunk>);","public java.lang.String gatherStats();","public int getPendingTasksCount();","public net.minecraft.world.level.chunk.ChunkGenerator getGenerator();","public net.minecraft.world.level.chunk.ChunkGeneratorStructureState getGeneratorState();","public net.minecraft.world.level.levelgen.RandomState randomState();","public int getLoadedChunksCount();","public void blockChanged(net.minecraft.core.BlockPos);","public void onLightUpdate(net.minecraft.world.level.LightLayer, net.minecraft.core.SectionPos);","public boolean hasActiveTickets();","public void addTicket(net.minecraft.server.level.Ticket, net.minecraft.world.level.ChunkPos);","public java.util.concurrent.CompletableFuture<?> addTicketAndLoadWithRadius(net.minecraft.server.level.TicketType, net.minecraft.world.level.ChunkPos, int);","public void addTicketWithRadius(net.minecraft.server.level.TicketType, net.minecraft.world.level.ChunkPos, int);","public void removeTicketWithRadius(net.minecraft.server.level.TicketType, net.minecraft.world.level.ChunkPos, int);","public boolean updateChunkForced(net.minecraft.world.level.ChunkPos, boolean);","public it.unimi.dsi.fastutil.longs.LongSet getForceLoadedChunks();","public void move(net.minecraft.server.level.ServerPlayer);","public void removeEntity(net.minecraft.world.entity.Entity);","public void addEntity(net.minecraft.world.entity.Entity);","public void sendToTrackingPlayersAndSelf(net.minecraft.world.entity.Entity, net.minecraft.network.protocol.Packet<? super net.minecraft.network.protocol.game.ClientGamePacketListener>);","public void sendToTrackingPlayers(net.minecraft.world.entity.Entity, net.minecraft.network.protocol.Packet<? super net.minecraft.network.protocol.game.ClientGamePacketListener>);","public void setViewDistance(int);","public void setSimulationDistance(int);","public void setSpawnSettings(boolean);","public java.lang.String getChunkDebugData(net.minecraft.world.level.ChunkPos);","public net.minecraft.world.level.storage.DimensionDataStorage getDataStorage();","public net.minecraft.world.entity.ai.village.poi.PoiManager getPoiManager();","public net.minecraft.world.level.chunk.storage.ChunkScanAccess chunkScanner();","public net.minecraft.world.level.NaturalSpawner$SpawnState getLastSpawnState();","public void deactivateTicketsOnClosing();","public void onChunkReadyToSend(net.minecraft.server.level.ChunkHolder);","public net.minecraft.world.level.lighting.LevelLightEngine getLightEngine();","public net.minecraft.world.level.BlockGetter getLevel();","private static net.minecraft.world.level.chunk.status.ChunkStatus lambda$addTicketAndLoadWithRadius$5(int);","private void lambda$onLightUpdate$4(net.minecraft.core.SectionPos, net.minecraft.world.level.LightLayer);","private void lambda$tickChunks$3(int, net.minecraft.world.level.chunk.LevelChunk);","private static java.util.concurrent.CompletionStage lambda$getChunkFuture$2(java.util.concurrent.CompletableFuture);","private java.util.concurrent.CompletableFuture lambda$getChunkFuture$1(int, int, net.minecraft.world.level.chunk.status.ChunkStatus, boolean);","private net.minecraft.world.level.chunk.ChunkAccess lambda$getChunk$0(int, int, net.minecraft.world.level.chunk.status.ChunkStatus, boolean);","static {};"],"references":["net.minecraft.world.level.chunk.ChunkSource","net.minecraft.world.level.chunk.status.ChunkStatus","net.minecraft.world.level.chunk.ChunkAccess","it.unimi.dsi.fastutil.objects.ObjectArrayList","it.unimi.dsi.fastutil.objects.ReferenceOpenHashSet","net.minecraft.server.level.ServerChunkCache$MainThreadExecutor","net.minecraft.server.level.ServerLevel.dimension","net.minecraft.world.level.storage.LevelStorageSource$LevelStorageAccess.getDimensionPath","net.minecraft.util.FileUtil.createDirectoriesSafe","org.slf4j.Logger.error","net.minecraft.world.level.storage.DimensionDataStorage","net.minecraft.server.level.ServerLevel.registryAccess","net.minecraft.world.level.TicketStorage.TYPE","net.minecraft.world.level.storage.DimensionDataStorage.computeIfAbsent","net.minecraft.world.level.TicketStorage","net.minecraft.server.level.ChunkMap","net.minecraft.server.level.ChunkMap.getLightEngine","net.minecraft.server.level.ChunkMap.getDistanceManager","net.minecraft.server.level.DistanceManager.updateSimulationDistance","net.minecraft.server.level.ChunkMap.getVisibleChunkIfPresent","net.minecraft.util.profiling.Profiler.get","net.minecraft.util.profiling.ProfilerFiller.incrementCounter","net.minecraft.world.level.ChunkPos.asLong","net.minecraft.server.level.ServerChunkCache$MainThreadExecutor.managedBlock","net.minecraft.server.level.ChunkResult","net.minecraft.server.level.ChunkResult.orElse","net.minecraft.server.level.ChunkResult.getError","net.minecraft.util.Util.pauseInIde","net.minecraft.world.level.chunk.status.ChunkStatus.FULL","net.minecraft.world.level.chunk.LevelChunk","net.minecraft.server.level.ChunkHolder.getChunkIfPresent","net.minecraft.world.level.ChunkPos.INVALID_CHUNK_POS","net.minecraft.world.level.ChunkPos","net.minecraft.world.level.ChunkPos.toLong","net.minecraft.server.level.ChunkLevel.byStatus","net.minecraft.server.level.Ticket","net.minecraft.server.level.TicketType.UNKNOWN","net.minecraft.util.profiling.ProfilerFiller.push","net.minecraft.util.profiling.ProfilerFiller.pop","net.minecraft.server.level.GenerationChunkHolder.UNLOADED_CHUNK_FUTURE","net.minecraft.server.level.ChunkHolder.scheduleChunkGenerationTask","net.minecraft.server.level.ChunkHolder.getTicketLevel","net.minecraft.world.level.chunk.status.ChunkStatus.INITIALIZE_LIGHT","net.minecraft.world.level.chunk.status.ChunkStatus.getParent","net.minecraft.server.level.ChunkHolder.getChunkIfPresentUnchecked","net.minecraft.server.level.ServerChunkCache$MainThreadExecutor.pollTask","net.minecraft.server.level.DistanceManager.runAllUpdates","net.minecraft.server.level.ChunkMap.promoteChunkMap","net.minecraft.server.level.ChunkMap.runGenerationTasks","net.minecraft.server.level.ServerLevel.shouldTickBlocksAt","net.minecraft.server.level.ChunkHolder.getTickingChunkFuture","net.minecraft.server.level.ChunkHolder.UNLOADED_LEVEL_CHUNK","net.minecraft.server.level.ChunkResult.isSuccess","net.minecraft.server.level.ChunkMap.saveAllChunks","net.minecraft.world.level.storage.DimensionDataStorage.close","net.minecraft.server.level.ThreadedLevelLightEngine.close","net.minecraft.server.level.ChunkMap.close","net.minecraft.server.level.ServerLevel.tickRateManager","net.minecraft.world.TickRateManager.runsNormally","net.minecraft.world.level.TicketStorage.purgeStaleTickets","net.minecraft.util.profiling.ProfilerFiller.popPush","net.minecraft.server.level.ChunkMap.tick","net.minecraft.server.level.ServerLevel.getGameTime","net.minecraft.server.level.ServerLevel.isDebug","net.minecraft.server.level.ChunkHolder","net.minecraft.server.level.ChunkHolder.getTickingChunk","net.minecraft.server.level.ChunkHolder.broadcastChanges","net.minecraft.server.level.DistanceManager.getNaturalSpawnChunkCount","net.minecraft.server.level.ServerLevel.getAllEntities","net.minecraft.world.level.LocalMobCapCalculator","net.minecraft.world.level.NaturalSpawner.createState","net.minecraft.server.level.ServerLevel.getGameRules","net.minecraft.world.level.gamerules.GameRules.SPAWN_MOBS","net.minecraft.world.level.gamerules.GameRules.get","net.minecraft.world.level.gamerules.GameRules.RANDOM_TICK_SPEED","net.minecraft.world.level.NaturalSpawner.getFilteredSpawningCategories","net.minecraft.server.level.ChunkMap.collectSpawningChunks","net.minecraft.server.level.ServerLevel.random","net.minecraft.util.Util.shuffle","net.minecraft.server.level.ChunkMap.forEachBlockTickingChunk","net.minecraft.server.level.ServerLevel.tickCustomSpawners","net.minecraft.world.level.chunk.LevelChunk.getPos","net.minecraft.world.level.chunk.LevelChunk.incrementInhabitedTime","net.minecraft.server.level.DistanceManager.inEntityTickingRange","net.minecraft.server.level.ServerLevel.tickThunder","net.minecraft.server.level.ServerLevel.canSpawnEntitiesInChunk","net.minecraft.world.level.NaturalSpawner.spawnForChunk","net.minecraft.server.level.ChunkHolder.getFullChunkFuture","net.minecraft.server.level.ChunkResult.ifSuccess","net.minecraft.server.level.ServerChunkCache$MainThreadExecutor.getPendingTasksCount","net.minecraft.server.level.ChunkMap.generator","net.minecraft.server.level.ChunkMap.generatorState","net.minecraft.server.level.ChunkMap.randomState","net.minecraft.server.level.ChunkMap.size","net.minecraft.core.BlockPos.getX","net.minecraft.core.SectionPos.blockToSectionCoord","net.minecraft.core.BlockPos.getZ","net.minecraft.server.level.ChunkHolder.blockChanged","net.minecraft.server.level.ServerChunkCache$MainThreadExecutor.execute","net.minecraft.world.level.TicketStorage.shouldKeepDimensionActive","net.minecraft.world.level.TicketStorage.addTicket","net.minecraft.server.level.TicketType.doesLoad","net.minecraft.server.level.TicketType.canExpireIfUnloaded","net.minecraft.server.level.ChunkMap.getChunkRangeFuture","net.minecraft.world.level.TicketStorage.addTicketWithRadius","net.minecraft.world.level.TicketStorage.removeTicketWithRadius","net.minecraft.world.level.TicketStorage.updateChunkForced","net.minecraft.world.level.TicketStorage.getForceLoadedChunks","net.minecraft.server.level.ServerPlayer.isRemoved","net.minecraft.server.level.ChunkMap.move","net.minecraft.server.level.ServerPlayer.isReceivingWaypoints","net.minecraft.server.level.ServerLevel.getWaypointManager","net.minecraft.server.waypoints.ServerWaypointManager.updatePlayer","net.minecraft.server.level.ChunkMap.removeEntity","net.minecraft.server.level.ChunkMap.addEntity","net.minecraft.server.level.ChunkMap.sendToTrackingPlayersAndSelf","net.minecraft.server.level.ChunkMap.sendToTrackingPlayers","net.minecraft.server.level.ChunkMap.setServerViewDistance","net.minecraft.server.level.ChunkMap.getChunkDebugData","net.minecraft.server.level.ChunkMap.getPoiManager","net.minecraft.server.level.ChunkMap.chunkScanner","net.minecraft.world.level.TicketStorage.deactivateTicketsOnClosing","net.minecraft.server.level.ChunkHolder.hasChangesToBroadcast","net.minecraft.core.SectionPos.chunk","net.minecraft.core.SectionPos.y","net.minecraft.server.level.ChunkHolder.sectionLightChanged","net.minecraft.server.level.ServerLevel.tickChunk","com.mojang.logging.LogUtils.getLogger"],"usages":["net.minecraft.server.level.ServerLevel"]}
