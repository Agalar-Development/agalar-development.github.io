{"name":"SectionStorage","package":"net.minecraft.world.level.chunk.storage","fqn":"net.minecraft.world.level.chunk.storage.SectionStorage","type":"class","members":["private static final org.slf4j.Logger LOGGER;","private static final java.lang.String SECTIONS_TAG;","private final net.minecraft.world.level.chunk.storage.SimpleRegionStorage simpleRegionStorage;","private final it.unimi.dsi.fastutil.longs.Long2ObjectMap<java.util.Optional<R>> storage;","private final it.unimi.dsi.fastutil.longs.LongLinkedOpenHashSet dirtyChunks;","private final com.mojang.serialization.Codec<P> codec;","private final java.util.function.Function<R, P> packer;","private final java.util.function.BiFunction<P, java.lang.Runnable, R> unpacker;","private final java.util.function.Function<java.lang.Runnable, R> factory;","private final net.minecraft.core.RegistryAccess registryAccess;","private final net.minecraft.world.level.chunk.storage.ChunkIOErrorReporter errorReporter;","protected final net.minecraft.world.level.LevelHeightAccessor levelHeightAccessor;","private final it.unimi.dsi.fastutil.longs.LongSet loadedChunks;","private final it.unimi.dsi.fastutil.longs.Long2ObjectMap<java.util.concurrent.CompletableFuture<java.util.Optional<net.minecraft.world.level.chunk.storage.SectionStorage$PackedChunk<P>>>> pendingLoads;","private final java.lang.Object loadLock;","public net.minecraft.world.level.chunk.storage.SectionStorage(net.minecraft.world.level.chunk.storage.SimpleRegionStorage, com.mojang.serialization.Codec<P>, java.util.function.Function<R, P>, java.util.function.BiFunction<P, java.lang.Runnable, R>, java.util.function.Function<java.lang.Runnable, R>, net.minecraft.core.RegistryAccess, net.minecraft.world.level.chunk.storage.ChunkIOErrorReporter, net.minecraft.world.level.LevelHeightAccessor);","protected void tick(java.util.function.BooleanSupplier);","private void unpackPendingLoads();","public void flushAll();","public boolean hasWork();","protected java.util.Optional<R> get(long);","protected java.util.Optional<R> getOrLoad(long);","protected boolean outsideStoredRange(long);","protected R getOrCreate(long);","public java.util.concurrent.CompletableFuture<?> prefetch(net.minecraft.world.level.ChunkPos);","private void unpackChunk(net.minecraft.world.level.ChunkPos);","private java.util.concurrent.CompletableFuture<java.util.Optional<net.minecraft.world.level.chunk.storage.SectionStorage$PackedChunk<P>>> tryRead(net.minecraft.world.level.ChunkPos);","private void unpackChunk(net.minecraft.world.level.ChunkPos, net.minecraft.world.level.chunk.storage.SectionStorage$PackedChunk<P>);","private void writeChunk(net.minecraft.world.level.ChunkPos);","private <T> com.mojang.serialization.Dynamic<T> writeChunk(net.minecraft.world.level.ChunkPos, com.mojang.serialization.DynamicOps<T>);","private static long getKey(net.minecraft.world.level.ChunkPos, int);","protected void onSectionLoad(long);","protected void setDirty(long);","public void flush(net.minecraft.world.level.ChunkPos);","public void close() throws java.io.IOException;","private static void lambda$writeChunk$11(java.util.Map, com.mojang.serialization.DynamicOps, java.lang.String, java.lang.Object);","private java.lang.Void lambda$writeChunk$10(net.minecraft.world.level.ChunkPos, java.lang.Throwable);","private void lambda$unpackChunk$9(long, boolean, java.lang.Object);","private java.lang.Object lambda$unpackChunk$8(long, java.lang.Object);","private void lambda$unpackChunk$7(long);","private java.util.Optional lambda$tryRead$6(net.minecraft.world.level.ChunkPos, java.lang.Throwable);","private java.util.Optional lambda$tryRead$5(net.minecraft.resources.RegistryOps, java.util.Optional);","private net.minecraft.world.level.chunk.storage.SectionStorage$PackedChunk lambda$tryRead$4(net.minecraft.resources.RegistryOps, net.minecraft.nbt.CompoundTag);","private java.util.concurrent.CompletableFuture lambda$unpackChunk$3(net.minecraft.world.level.ChunkPos, long);","private java.util.concurrent.CompletableFuture lambda$prefetch$2(net.minecraft.world.level.ChunkPos, long);","private void lambda$getOrCreate$1(long);","private void lambda$flushAll$0(long);","static {};"],"references":["it.unimi.dsi.fastutil.longs.Long2ObjectOpenHashMap","it.unimi.dsi.fastutil.longs.LongLinkedOpenHashSet","it.unimi.dsi.fastutil.longs.LongOpenHashSet","it.unimi.dsi.fastutil.longs.LongLinkedOpenHashSet.iterator","it.unimi.dsi.fastutil.longs.LongIterator.hasNext","net.minecraft.world.level.ChunkPos","it.unimi.dsi.fastutil.longs.LongIterator.nextLong","it.unimi.dsi.fastutil.longs.LongIterator.remove","it.unimi.dsi.fastutil.longs.Long2ObjectMaps.fastIterator","it.unimi.dsi.fastutil.longs.Long2ObjectMap$Entry","it.unimi.dsi.fastutil.longs.Long2ObjectMap$Entry.getValue","it.unimi.dsi.fastutil.longs.Long2ObjectMap$Entry.getLongKey","net.minecraft.world.level.chunk.storage.SectionStorage$PackedChunk","it.unimi.dsi.fastutil.longs.LongSet.add","it.unimi.dsi.fastutil.longs.LongLinkedOpenHashSet.isEmpty","it.unimi.dsi.fastutil.longs.LongLinkedOpenHashSet.forEach","it.unimi.dsi.fastutil.longs.LongLinkedOpenHashSet.clear","it.unimi.dsi.fastutil.longs.Long2ObjectMap.get","net.minecraft.core.SectionPos.of","net.minecraft.core.SectionPos.chunk","net.minecraft.util.Util.pauseInIde","net.minecraft.core.SectionPos.y","net.minecraft.core.SectionPos.sectionToBlockCoord","net.minecraft.world.level.LevelHeightAccessor.isOutsideBuildHeight","it.unimi.dsi.fastutil.longs.Long2ObjectMap.put","net.minecraft.world.level.ChunkPos.toLong","it.unimi.dsi.fastutil.longs.LongSet.contains","it.unimi.dsi.fastutil.longs.Long2ObjectMap.computeIfAbsent","it.unimi.dsi.fastutil.longs.Long2ObjectMap.remove","net.minecraft.nbt.NbtOps.INSTANCE","net.minecraft.core.RegistryAccess.createSerializationContext","net.minecraft.world.level.chunk.storage.SimpleRegionStorage.read","net.minecraft.util.Util.backgroundExecutor","net.minecraft.TracingExecutor.forName","net.minecraft.world.level.LevelHeightAccessor.getMinSectionY","net.minecraft.world.level.LevelHeightAccessor.getMaxSectionY","net.minecraft.world.level.chunk.storage.SectionStorage$PackedChunk.versionChanged","net.minecraft.world.level.chunk.storage.SectionStorage$PackedChunk.sectionsByY","it.unimi.dsi.fastutil.ints.Int2ObjectMap.get","com.mojang.serialization.Dynamic.getValue","net.minecraft.nbt.Tag","net.minecraft.nbt.CompoundTag","net.minecraft.world.level.chunk.storage.SimpleRegionStorage.write","org.slf4j.Logger.error","com.google.common.collect.Maps.newHashMap","com.mojang.serialization.Codec.encodeStart","com.mojang.serialization.DataResult.resultOrPartial","com.mojang.serialization.Dynamic","com.mojang.serialization.DynamicOps.createString","com.mojang.serialization.DynamicOps.createMap","net.minecraft.SharedConstants.getCurrentVersion","net.minecraft.WorldVersion.dataVersion","net.minecraft.world.level.storage.DataVersion.version","com.mojang.serialization.DynamicOps.createInt","com.google.common.collect.ImmutableMap.of","net.minecraft.world.level.ChunkPos.x","net.minecraft.world.level.ChunkPos.z","net.minecraft.core.SectionPos.asLong","org.slf4j.Logger.warn","net.minecraft.core.SectionPos.x","net.minecraft.core.SectionPos.z","net.minecraft.world.level.ChunkPos.asLong","it.unimi.dsi.fastutil.longs.LongLinkedOpenHashSet.add","it.unimi.dsi.fastutil.longs.LongLinkedOpenHashSet.remove","net.minecraft.world.level.chunk.storage.SimpleRegionStorage.close","net.minecraft.world.level.chunk.storage.SimpleRegionStorage.storageInfo","net.minecraft.world.level.chunk.storage.ChunkIOErrorReporter.reportChunkSaveFailure","net.minecraft.world.level.chunk.storage.ChunkIOErrorReporter.reportChunkLoadFailure","net.minecraft.world.level.chunk.storage.SectionStorage$PackedChunk.parse","com.mojang.logging.LogUtils.getLogger"],"usages":["net.minecraft.world.entity.ai.village.poi.PoiManager"]}
