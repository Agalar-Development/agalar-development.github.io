{"name":"LegacyStructureDataHandler","package":"net.minecraft.world.level.levelgen.structure","fqn":"net.minecraft.world.level.levelgen.structure.LegacyStructureDataHandler","type":"class","members":["public static final int LAST_MONOLYTH_STRUCTURE_DATA_VERSION;","private static final java.util.Map<java.lang.String, java.lang.String> CURRENT_TO_LEGACY_MAP;","private static final java.util.Map<java.lang.String, java.lang.String> LEGACY_TO_CURRENT_MAP;","private static final java.util.Set<java.lang.String> OLD_STRUCTURE_REGISTRY_KEYS;","private final boolean hasLegacyData;","private final java.util.Map<java.lang.String, it.unimi.dsi.fastutil.longs.Long2ObjectMap<net.minecraft.nbt.CompoundTag>> dataMap;","private final java.util.Map<java.lang.String, net.minecraft.world.level.levelgen.structure.StructureFeatureIndexSavedData> indexMap;","private final net.minecraft.world.level.storage.DimensionDataStorage dimensionDataStorage;","private final java.util.List<java.lang.String> legacyKeys;","private final java.util.List<java.lang.String> currentKeys;","private final com.mojang.datafixers.DataFixer dataFixer;","private boolean cachesInitialized;","public net.minecraft.world.level.levelgen.structure.LegacyStructureDataHandler(net.minecraft.world.level.storage.DimensionDataStorage, java.util.List<java.lang.String>, java.util.List<java.lang.String>, com.mojang.datafixers.DataFixer);","public void markChunkDone(net.minecraft.world.level.ChunkPos);","public int targetDataVersion();","public net.minecraft.nbt.CompoundTag applyFix(net.minecraft.nbt.CompoundTag);","private net.minecraft.nbt.CompoundTag updateFromLegacy(net.minecraft.nbt.CompoundTag);","private boolean hasLegacyStart(int, int, java.lang.String);","private boolean isUnhandledStructureStart(int, int);","private net.minecraft.nbt.CompoundTag updateStructureStart(net.minecraft.nbt.CompoundTag, net.minecraft.world.level.ChunkPos);","private synchronized void populateCaches(net.minecraft.world.level.storage.DimensionDataStorage);","public static java.util.function.Supplier<net.minecraft.world.level.chunk.storage.LegacyTagFixer> getLegacyTagFixer(net.minecraft.resources.ResourceKey<net.minecraft.world.level.Level>, java.util.function.Supplier<net.minecraft.world.level.storage.DimensionDataStorage>, com.mojang.datafixers.DataFixer);","private static net.minecraft.world.level.chunk.storage.LegacyTagFixer lambda$getLegacyTagFixer$11(java.util.function.Supplier, java.util.List, com.mojang.datafixers.DataFixer);","private static net.minecraft.world.level.chunk.storage.LegacyTagFixer lambda$getLegacyTagFixer$10(java.util.function.Supplier, java.util.List, com.mojang.datafixers.DataFixer);","private static net.minecraft.world.level.chunk.storage.LegacyTagFixer lambda$getLegacyTagFixer$9(java.util.function.Supplier, com.mojang.datafixers.DataFixer);","private static void lambda$populateCaches$8(net.minecraft.world.level.levelgen.structure.StructureFeatureIndexSavedData, java.lang.String, net.minecraft.nbt.Tag);","private void lambda$populateCaches$7(java.lang.String, net.minecraft.nbt.Tag);","private void lambda$populateCaches$6(long, net.minecraft.nbt.CompoundTag, java.lang.String);","private static it.unimi.dsi.fastutil.longs.Long2ObjectMap lambda$populateCaches$5(java.lang.String);","private static void lambda$populateCaches$4(net.minecraft.nbt.CompoundTag, java.lang.String);","private static java.util.Optional lambda$populateCaches$3(net.minecraft.nbt.CompoundTag);","private static java.util.Optional lambda$applyFix$2(net.minecraft.nbt.CompoundTag);","private static void lambda$static$1(java.util.HashMap);","private static void lambda$static$0(java.util.HashMap);","static {};"],"references":["com.google.common.collect.Maps.newHashMap","net.minecraft.world.level.ChunkPos.toLong","net.minecraft.world.level.levelgen.structure.StructureFeatureIndexSavedData","net.minecraft.world.level.levelgen.structure.StructureFeatureIndexSavedData.hasUnhandledIndex","net.minecraft.world.level.levelgen.structure.StructureFeatureIndexSavedData.removeIndex","net.minecraft.nbt.NbtUtils.getDataVersion","net.minecraft.util.datafix.DataFixTypes.CHUNK","net.minecraft.util.datafix.DataFixTypes.update","net.minecraft.nbt.CompoundTag.getCompound","net.minecraft.nbt.CompoundTag.getCompoundOrEmpty","net.minecraft.world.level.ChunkPos","net.minecraft.nbt.CompoundTag.getIntOr","net.minecraft.world.level.ChunkPos.x","net.minecraft.world.level.ChunkPos.z","net.minecraft.nbt.CompoundTag.getLongArray","it.unimi.dsi.fastutil.longs.LongArrayList","net.minecraft.world.level.ChunkPos.asLong","it.unimi.dsi.fastutil.longs.LongList.add","it.unimi.dsi.fastutil.longs.LongList.toLongArray","net.minecraft.nbt.CompoundTag.putLongArray","net.minecraft.nbt.CompoundTag.put","net.minecraft.world.level.levelgen.structure.StructureFeatureIndexSavedData.hasStartIndex","it.unimi.dsi.fastutil.longs.Long2ObjectMap","it.unimi.dsi.fastutil.longs.Long2ObjectMap.get","net.minecraft.nbt.CompoundTag","net.minecraft.util.datafix.DataFixTypes.SAVED_DATA_STRUCTURE_FEATURE_INDICES","net.minecraft.world.level.storage.DimensionDataStorage.readTagFromDisk","net.minecraft.nbt.CompoundTag.isEmpty","net.minecraft.nbt.CompoundTag.forEach","net.minecraft.world.level.levelgen.structure.StructureFeatureIndexSavedData.type","net.minecraft.world.level.storage.DimensionDataStorage.computeIfAbsent","net.minecraft.world.level.levelgen.structure.StructureFeatureIndexSavedData.getAll","it.unimi.dsi.fastutil.longs.LongSet.isEmpty","net.minecraft.world.level.Level.OVERWORLD","net.minecraft.world.level.Level.NETHER","com.google.common.collect.ImmutableList.of","net.minecraft.world.level.Level.END","net.minecraft.world.level.chunk.storage.LegacyTagFixer.EMPTY","net.minecraft.world.level.storage.DimensionDataStorage","net.minecraft.world.level.levelgen.structure.StructureFeatureIndexSavedData.addIndex","net.minecraft.nbt.CompoundTag.getListOrEmpty","net.minecraft.nbt.ListTag.isEmpty","net.minecraft.nbt.ListTag.getCompound","net.minecraft.nbt.CompoundTag.getString","it.unimi.dsi.fastutil.longs.Long2ObjectMap.put","it.unimi.dsi.fastutil.longs.Long2ObjectOpenHashMap","net.minecraft.nbt.CompoundTag.putString","net.minecraft.nbt.CompoundTag.getBoolean","net.minecraft.util.Util.make"],"usages":[]}
